{# def
    title:str ="",
#}
{#
    USAGE
    Overall layout for the page. This includes the nav bar, alerts, and the content of the page. The nav bar is only included if the user is logged in.

    To place an alert at the top of the page, call this template with one of the following variables:
    - success_msg: str
    - error_msg: str
    - warning_msg: str
    - info_msg: str
#}
<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Valentina Noir
            {% if title %}: {{ title }}{% endif %}
        </title>
        <link rel="icon"
              href="{{ url_for('static', filename='favicon.svg') }}"
              type="image/svg+xml">
        <link rel="icon"
              href="{{ url_for('static', filename='favicon-32x32.png') }}"
              type="image/png"
              sizes="32x32">
        <link rel="apple-touch-icon"
              href="{{ url_for('static', filename='apple-touch-icon.png') }}"
              type="image/png"
              sizes="180x180">
        <script src="https://unpkg.com/htmx.org@2.0.1" crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
              rel="stylesheet"
              integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
              crossorigin="anonymous">
        <script src="https://kit.fontawesome.com/29b83b145f.js"
                crossorigin="anonymous"></script>
        <script defer
                src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
        {{ catalog.render_assets() }}
        <link href="{{ url_for('static', filename='valentina.css') }}"
              rel="stylesheet">
    </head>
    <body>
        {# include nav bar only when user is logged in #}
        {% if session["USER_ID"] is defined and session["GUILD_ID"] is defined %}<NavBar />{% endif %}

        <div class="container mt-3 mb-5">
            <div class="toast-container position-fixed bottom-0 end-0 p-3">
                {%- if attrs.get("success-msg", "") %}

                    <div class="toast align-items-center text-bg-success border-0"
                         role="alert"
                         aria-live="assertive"
                         aria-atomic="true">
                        <div class="d-flex">
                            <div class="toast-body">
                                <i class="fa-solid fa-circle-check"></i>&nbsp;&nbsp;{{ attrs.get("success-msg") }}
                            </div>
                            <button type="button"
                                    class="btn-close btn-close-white me-2 m-auto"
                                    data-bs-dismiss="toast"
                                    aria-label="Close"></button>
                        </div>
                    </div>
                {% endif -%}
                {%- if attrs.get("error-msg", "") %}
                    <div class="toast align-items-center text-bg-success border-0"
                         role="alert"
                         aria-live="assertive"
                         aria-atomic="true">
                        <div class="d-flex">
                            <div class="toast-body">
                                <i class="fa-solid fa-circle-check"></i>&nbsp;&nbsp;{{ attrs.get("error-msg") }}
                            </div>
                            <button type="button"
                                    class="btn-close btn-close-white me-2 m-auto"
                                    data-bs-dismiss="toast"
                                    aria-label="Close"></button>
                        </div>
                    </div>
                {% endif -%}
                {%- if attrs.get("warning-msg", "") %}
                    <div class="toast align-items-center text-bg-warning border-0"
                         role="alert"
                         aria-live="assertive"
                         aria-atomic="true">
                        <div class="d-flex">
                            <div class="toast-body">
                                <i class="fa-solid fa-triangle-exclamation"></i>&nbsp;&nbsp;{{ attrs.get("warning-msg") }}
                            </div>
                            <button type="button"
                                    class="btn-close btn-close-white me-2 m-auto"
                                    data-bs-dismiss="toast"
                                    aria-label="Close"></button>
                        </div>
                    </div>
                {% endif -%}
                {%- if attrs.get("info-msg", "") %}
                    <div class="toast align-items-center text-bg-info border-0"
                         role="alert"
                         aria-live="assertive"
                         aria-atomic="true">
                        <div class="d-flex">
                            <div class="toast-body">
                                <i class="fa-solid fa-circle-info"></i>&nbsp;&nbsp;{{ attrs.get("info-msg") }}
                            </div>
                            <button type="button"
                                    class="btn-close btn-close-white me-2 m-auto"
                                    data-bs-dismiss="toast"
                                    aria-label="Close"></button>
                        </div>
                    </div>
                {% endif -%}
            </div>
            {{ content }}
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
                crossorigin="anonymous"></script>
        <script>
            // Enable tooltips
            const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
            const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
        </script>

        <script>
            // Show the first toast with class .toast
            var toast = document.querySelector('.toast');
            var toastE = new bootstrap.Toast(toast);
            toastE.show();
        </script>
    </body>
</html>
